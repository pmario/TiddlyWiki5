title: $:/plugins/tiddlywiki/markdown/new-markdown-button
tags: $:/tags/PageControls
caption: {{$:/plugins/tiddlywiki/markdown/images/new-markdown-button}} {{$:/language/Buttons/NewMarkdown/Caption}}
description: {{$:/language/Buttons/NewMarkdown/Hint}}
list-after: $:/core/ui/Buttons/new-tiddler

\whitespace trim

\define new-tiddler()
<$reveal state="$:/config/markdown/new-markdown-button/use-default" type="match" text="yes" default="no">
	<$action-createtiddler $basetitle=<<unusedtitle>> $template={{$:/config/markdown/default}} >
		<$action-sendmessage $message="tm-edit-tiddler" $param=<<createTiddler-title>> />
	</$action-createtiddler>
</$reveal>
<$reveal state="$:/config/markdown/new-markdown-button/use-default" type="match" text="no" default="no">
	<$action-sendmessage $message="tm-new-tiddler" type="text/markdown"/>
</$reveal>
\end

<$button actions=<<new-tiddler>> tooltip={{$:/language/Buttons/NewMarkdown/Hint}} aria-label={{$:/language/Buttons/NewMarkdown/Caption}} class=<<tv-config-toolbar-class>> >
<$list filter="[<tv-config-toolbar-icons>match[yes]]">
{{$:/plugins/tiddlywiki/markdown/images/new-markdown-button}}
</$list>
<$list filter="[<tv-config-toolbar-text>match[yes]]">
<span class="tc-btn-text"><$text text={{$:/language/Buttons/NewMarkdown/Caption}}/></span>
</$list>
</$button>
